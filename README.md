# –£–º–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç NUANU ‚Äî –ú–æ–¥—É–ª—å —Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–π –æ–∑–≤—É—á–∫–∏

## üß† –û–ø–∏—Å–∞–Ω–∏–µ
–ü—Ä–æ—Ç–æ—Ç–∏–ø —Å–∏—Å—Ç–µ–º—ã **—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–π –≥–æ–ª–æ—Å–æ–≤–æ–π –æ–∑–≤—É—á–∫–∏** –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ ¬´–£–º–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç-–≥–∏–¥ NUANU¬ª.  
–°–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ—Ä–æ—Ç–∫–∏–µ —é–º–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–µ–º –≤–æ–∫—Ä—É–≥ —à–∞—Ç—Ç–ª–∞ –∏ –æ–∑–≤—É—á–∏–≤–∞–µ—Ç –∏—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —Å–æ–∑–¥–∞–≤–∞—è —ç—Ñ—Ñ–µ–∫—Ç ¬´–∂–∏–≤–æ–≥–æ¬ª –ø–µ—Ä—Å–æ–Ω–∞–∂–∞.

**–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (v5):**  
**Groq LPU** (Llama 3.1/3.3) ‚Üí streaming ‚Üí **ElevenLabs WebSocket** ‚Üí –∞—É–¥–∏–æ  
–í—Ä–µ–º—è –æ—Ç —Å–æ–±—ã—Ç–∏—è –¥–æ –Ω–∞—á–∞–ª–∞ –æ–∑–≤—É—á–∫–∏: **~600 –º—Å**

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üîä –†–µ–∞–∫—Ç–∏–≤–Ω–∞—è –≥–æ–ª–æ—Å–æ–≤–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ —Å–æ–±—ã—Ç–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: ¬´–∫–∞–º–µ—Ä–∞, –¥–≤–µ —Å–æ–±–∞–∫–∏ —Å–ª–µ–≤–∞¬ª)
- ‚ö° –°—É–±—Å–µ–∫—É–Ω–¥–Ω—ã–π –æ—Ç–∫–ª–∏–∫ (~600 –º—Å TTFA) –±–ª–∞–≥–æ–¥–∞—Ä—è Groq LPU –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º—É pipeline
- üß© –ü–æ—Ç–æ–∫–æ–≤—ã–π —Å–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏ —á–µ—Ä–µ–∑ ElevenLabs ‚Äî –∑–≤—É–∫ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞
- ü§ñ –í—ã–±–æ—Ä LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞: Groq (Llama 3.3 70B / Llama 3.1 8B) –∏–ª–∏ OpenAI GPT-4o-mini
- üéß –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –±–µ–∑ –æ–±—Ä—ã–≤–æ–≤ –∏ –∑–∞–¥–µ—Ä–∂–µ–∫

---

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (TTFA ‚Äî Time to First Audio)

| –í–µ—Ä—Å–∏—è | LLM | TTFA avg | –£—Å–∫–æ—Ä–µ–Ω–∏–µ |
|--------|-----|----------|-----------|
| tts_test_1.py (baseline) | GPT-4o-mini (sync) | ~4000 –º—Å | ‚Äî |
| tts_fast_pipeline.py (v3) | GPT-4o-mini (streaming) | ~1700 –º—Å | 2.4x |
| tts_fast_pipeline_v4.py | GPT-4o-mini (optimized) | ~1380 –º—Å | 2.9x |
| **tts_fast_pipeline_v5.py** | **Groq Llama 3.1 8B** | **~607 –º—Å** | **6.6x** |

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python ‚â• 3.11  
- Windows –∏–ª–∏ Linux (Jetson Orin –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–µ–π
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
GROQ_API_KEY=–≤–∞—à_–∫–ª—é—á_Groq           # console.groq.com/keys (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_OpenAI       # –¥–ª—è GPT-—Ä–µ–∂–∏–º–∞ / —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
ELEVENLABS_API_KEY=–≤–∞—à_–∫–ª—é—á_ElevenLabs
```
–§–∞–π–ª `.env` –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`.

---

## ‚ñ∂Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (Groq ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
python tts_fast_pipeline_v5.py
```

### –í—Å–µ —Ä–µ–∂–∏–º—ã –∑–∞–ø—É—Å–∫–∞
```bash
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ ‚Äî Groq Llama 3.3 70B (–±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–æ/—Å–∫–æ—Ä–æ—Å—Ç—å)
python tts_fast_pipeline_v5.py

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ ‚Äî Groq Llama 3.1 8B (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å, ~600–º—Å)
python tts_fast_pipeline_v5.py --groq-small

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤ ‚Äî GPT-4o-mini (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)
python tts_fast_pipeline_v5.py --gpt

# –ë–µ–Ω—á–º–∞—Ä–∫ (5 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤)
python tts_fast_pipeline_v5.py --benchmark

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ Groq vs GPT –±–æ–∫ –æ –±–æ–∫
python tts_fast_pipeline_v5.py --compare
```

–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä ‚Äî —Ç–æ, —á—Ç–æ ¬´–≤–∏–¥–∏—Ç¬ª –∫–∞–º–µ—Ä–∞:
```
> –¥–≤–µ —Å–æ–±–∞–∫–∏ —Å–ø—Ä–∞–≤–∞
üó£Ô∏è "–≠—Ç–æ –Ω–µ —Ç–æ, —á—Ç–æ —è –æ–∂–∏–¥–∞–ª —É–≤–∏–¥–µ—Ç—å ‚Äî –¥–≤–µ —Å–æ–±–∞–∫–∏ —É—Å—Ç—Ä–æ–∏–ª–∏ –ø–∏–∫–Ω–∏–∫ –Ω–∞ –æ–±–æ—á–∏–Ω–µ!"
‚ö° TTFA: 580ms üî•
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `tts_fast_pipeline_v5.py` | **–û—Å–Ω–æ–≤–Ω–æ–π** ‚Äî Groq/GPT + ElevenLabs, –≤—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ |
| `tts_fast_pipeline_v4.py` | GPT-4o-mini —Å persistent WS –∏ pre-warm |
| `tts_fast_pipeline.py` | v3 ‚Äî –ø–µ—Ä–≤—ã–π –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π pipeline |
| `tts_test_1.py` | –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø (sequential) |
| `tts_benchmark.py` | –ë–µ–Ω—á–º–∞—Ä–∫ —Å Ollama/Vikhr 12B |
| `tts_benchmark_v2.py` | –ë–µ–Ω—á–º–∞—Ä–∫ v2: sequential vs parallel |

---

## üîß –ö–ª—é—á–µ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (v3 ‚Üí v5)

1. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π pipeline** ‚Äî LLM —Å—Ç—Ä–∏–º–∏—Ç —Ç–æ–∫–µ–Ω—ã, ElevenLabs –ø–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—Å—Ç –ø–æ –º–µ—Ä–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
2. **Pre-opened WebSocket** ‚Äî —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∫ ElevenLabs –æ—Ç–∫—Ä—ã—Ç–æ –¥–æ –Ω–∞—á–∞–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
3. **Sentence-based flushing** ‚Äî —Ç–µ–∫—Å—Ç —É—Ö–æ–¥–∏—Ç –≤ TTS –ø–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è–º (–ø–æ `. ! ? ,`)
4. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç** ‚Äî —Å–∂–∞—Ç –¥–æ ~15 —Ç–æ–∫–µ–Ω–æ–≤ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è TTFT
5. **Groq LPU** ‚Äî TTFT ~380 –º—Å –≤–º–µ—Å—Ç–æ ~950 –º—Å —É GPT-4o-mini
6. **temperature=0** ‚Äî –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π sampling –±–µ–∑ overhead

---

## üß© –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–æ–ª–æ—Å–æ–≤
```python
VOICE_ID = "y2Y5MeVPm6ZQXK64WUui"  # –≥–æ–ª–æ—Å ElevenLabs
MODEL_ID = "eleven_flash_v2_5"       # –±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å TTS
```

---

## ‚ö° –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- –í–æ–∑–º–æ–∂–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è `mpg123` –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –ø–æ—Ç–æ–∫–∞ ‚Äî —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –°–∫–æ—Ä–æ—Å—Ç—å –æ—Ç–∫–ª–∏–∫–∞ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (WiFi latency –∫—Ä–∏—Ç–∏—á–Ω–∞)
- ElevenLabs –º–æ–∂–µ—Ç –æ–±—Ä–µ–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 0.1‚Äì0.2 —Å–µ–∫—É–Ω–¥—ã —Ä–µ—á–∏
- Groq –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ –∏–º–µ–µ—Ç rate limits ‚Äî –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–µ–Ω –ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–ú–æ–¥—É–ª—å —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é –ø—Ä–æ–µ–∫—Ç–∞ **¬´–£–º–Ω—ã–π —ç–ª–µ–∫—Ç—Ä–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç-–≥–∏–¥ NUANU¬ª**.  
¬© 2025 –î–µ–Ω–∏—Å –ù–æ–≤–∏–∫–æ–≤ ‚Äî –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
